/* Crop Planner â€“ layout v3 (STRICT to match sketch) */

/* ===== Scope & Reset (prevents global theme styles from leaking) ===== */
.crop-page { --bg:#f6f7fb; --surface:#ffffff; --surface-2:#f7f9fc; --border:#e7ebf3; --text:#0f172a; --muted:#6b7280; --primary:#2563eb; --positive:#059669; --negative:#dc2626; --radius:14px; }
.crop-page * { box-sizing: border-box; }
.crop-page a { color: inherit; text-decoration: none !important; }
.crop-page .panel a, .crop-page .panel a:link, .crop-page .panel a:visited { text-decoration: none !important; color: inherit !important; border: 0 !important; background: none !important; }
.crop-page .panel a::before, .crop-page .panel a::after { content: none !important; }
.crop-page a:focus-visible { outline: 2px solid rgba(37,99,235,.6); outline-offset: 2px; border-radius: 10px; }

/* ===== Page container ===== */
.crop-page .container { max-width: 1200px; margin: 0 auto; padding: 28px 22px 64px; }
.crop-page .header { margin-bottom: 18px; }
.crop-page .header h1 { margin: 0 0 6px; font-weight: 800; letter-spacing: -.02em; font-size: clamp(24px, 2.4vw, 34px); }
.crop-page .subtitle { margin: 0; color: var(--muted); }

/* ===== Two-column layout (like your drawing) ===== */
.crop-page .layout-2col { display: grid; grid-template-columns: 1fr; gap: 20px; }
@media (min-width: 980px){ .crop-page .layout-2col { grid-template-columns: 340px 1fr; gap: 24px; } }

/* ===== Panels ===== */
.crop-page .panel { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); box-shadow: 0 10px 28px rgba(2,6,23,.06); }
.crop-page .panel + .panel { margin-top: 16px; }
.crop-page .panel .panel-header { padding: 12px 16px; border-bottom: 1px solid var(--border); background: var(--surface-2); border-top-left-radius: var(--radius); border-top-right-radius: var(--radius); font-weight: 800; color: #0b1220; letter-spacing: .2px; }
.crop-page .panel .empty { padding: 16px; color: var(--muted); }

/* ===== Left: Your Farms (GRID tiles, 2 per row on desktop) ===== */
.crop-page .farms-panel { position: sticky; top: 18px; align-self: start; height: fit-content; }
.crop-page .farms-panel .grid-tiles { padding: 14px; display: grid !important; grid-template-columns: 1fr; gap: 14px; }
@media (min-width: 700px){ .crop-page .farms-panel .grid-tiles { grid-template-columns: repeat(2, 1fr) !important; } }

.crop-page .farm-tile { display: flex; flex-direction: column; gap: 2px; min-height: 110px; padding: 12px; border-radius: 12px; border: 1px solid var(--border); background: #fff; cursor: pointer; transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease; }
.crop-page .farm-tile:hover { transform: translateY(-1px); border-color: #cbd5e1; box-shadow: 0 10px 20px rgba(2,6,23,.05); }
.crop-page .farm-tile.selected { border-color: #93c5fd; box-shadow: 0 0 0 3px rgba(147,197,253,.45) inset; }
.crop-page .farm-title { font-weight: 800; font-size: 1rem; }
.crop-page .farm-sub { color: #111827; font-size: .95rem; }
.crop-page .farm-meta { color: var(--muted); font-size: .9rem; }
.crop-page .farm-meta.small { font-size: .85rem; }

/* ===== Right column: details (top) + suggested crops (bottom) ===== */
.crop-page .right-col { display: grid; gap: 20px; align-content: start; }
.crop-page .details-panel > .details { padding: 16px; }
.crop-page .details-panel h2 { margin: 0 0 6px; font-size: clamp(18px, 2vw, 22px); }
.crop-page .muted { color: var(--muted); }

/* ===== Suggested crops list ===== */
.crop-page .reco-panel .list { padding: 14px; display: grid; gap: 12px; }
.crop-page .card { display: grid; grid-template-columns: 1fr; gap: 10px; border: 1px solid var(--border); border-radius: 12px; padding: 12px; background: #fff; }
@media (min-width: 680px){ .crop-page .card { grid-template-columns: 1fr auto; align-items: center; } }
.crop-page .card-main strong { font-weight: 800; }
.crop-page .card-actions { display: flex; flex-wrap: wrap; gap: 8px; justify-content: flex-end; }

.crop-page .pill { display: inline-flex; align-items: center; height: 30px; padding: 0 10px; border-radius: 999px; border: 1px solid var(--border); background: var(--surface-2); font-size: .9rem; }
.crop-page .pill.deficit { border-color: #fecaca; background: #fff1f2; color: #7f1d1d; }
.crop-page .pill.success { border-color: #bbf7d0; background: #ecfdf5; color: #064e3b; }

/* ===== Utility to ensure links inside tiles never look like separate links ===== */
.crop-page .farm-tile * { text-decoration: none !important; }
