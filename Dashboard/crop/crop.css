/* ====== Sidebar (fixed) ====== */
.sidebar {
  position: fixed; left: 0; top: 0; width: 220px; height: 100vh;
  background-color: #2e3b4e; color: #fff; padding: 20px; overflow-y: auto;
}
.sidebar ul{list-style:none;margin:0;padding:0;}
.sidebar ul li{margin-bottom:.75rem;}
.sidebar ul li a{color:#fff;text-decoration:none;display:block;padding:8px;border-radius:6px;transition:background .2s;}
.sidebar ul li a:hover{background:#4e5d6c;}
/* Force highlight for this page even if another link has .active */
.sidebar a.force-active,
.sidebar a[href*="crop/crop.php"] { background:#4e5d6c; color:#fff; }

/* ====== Base layout ====== */
body {
  margin: 0; margin-left: 220px;
  background: #eef2f7;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  color: #1f2937;
}
.container{max-width:1200px;margin:28px auto;padding:0 20px;}
.header{margin-bottom:18px;}
.header h1{margin:0 0 6px;font-size:28px;font-weight:700;letter-spacing:.2px;}
.subtitle{margin:0;color:#6b7280;font-size:14px;}

/* Layout: center content + right sidebar */
.layout{
  display:grid;
  grid-template-columns: 1fr 380px;
  gap: 16px;
  align-items: start;
}
.rightbar .sticky{position: sticky; top: 16px;}

/* Panels / cards */
.panel{
  background:#fff;border:1px solid #e5e7eb;border-radius:14px;
  box-shadow:0 6px 18px rgba(31,41,55,.08);padding:18px;margin-bottom:20px;
}
.panel>h2{margin:0 0 12px;font-size:18px;font-weight:600;}
.msg{margin-top:8px;color:#6b7280;font-size:13px;}
.empty{color:#6b7280;font-style:italic;padding:10px 0;}

/* Farm tiles */
.farm-grid{
  display:grid;
  grid-template-columns: repeat( auto-fill, minmax(220px, 1fr) );
  gap: 12px;
}
.farm-tile{
  appearance:none; border:1px solid #e5e7eb; background:#fff; color:#1f2937;
  border-radius:12px; padding:14px; cursor:pointer; text-align:left;
  box-shadow:0 6px 16px rgba(31,41,55,.06); transition:transform .06s ease, box-shadow .15s;
}
.farm-tile:hover{ box-shadow:0 8px 20px rgba(31,41,55,.10); }
.farm-tile.selected{ outline:3px solid rgba(59,130,246,.25); border-color:#3b82f6; }
.farm-title{font-weight:700;margin-bottom:4px;}
.farm-sub{color:#374151;margin-bottom:6px;}
.farm-meta{color:#6b7280;font-size:13px;}

/* Plan grid (inside right sidebar) */
.plan-grid{
  display:grid; grid-template-columns:1fr; gap:12px;
}
.season-col{
  background:#fff;border:1px solid #e5e7eb;border-radius:10px;
  box-shadow:0 6px 16px rgba(31,41,55,.06); overflow:hidden;
}
.season-head{
  padding:12px 14px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;gap:8px;
}
.season-title{font-weight:700;}
.months{display:flex;gap:6px;flex-wrap:wrap;}
.badge{display:inline-block;padding:4px 8px;border-radius:999px;background:#eef2ff;color:#1e40af;font-size:12px;border:1px solid #dbeafe;}
.season-body{padding:12px;display:grid;gap:10px;}
.card{
  display:grid;gap:6px;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:10px;
  box-shadow:0 6px 12px rgba(31,41,55,.04);
}
.card-main>div{margin:2px 0;}
.type{color:#334155;font-weight:600;font-size:12px;margin-left:4px;}
.muted{color:#6b7280;font-size:13px;}
.farm-ctx{margin-bottom:10px;}

/* Responsive */
@media (max-width: 1024px){
  .container{margin:20px auto;padding:0 16px;}
  .layout{grid-template-columns: 1fr; }
  .rightbar .sticky{position:static;}
}
@media (max-width: 860px){
  .sidebar{position:static;width:100%;height:auto;border-bottom:1px solid rgba(255,255,255,.1);}
  body{margin-left:0;}
  .container{margin:16px auto;padding:0 14px;}
  .header h1{font-size:22px;}
  .panel{padding:14px;}
}
